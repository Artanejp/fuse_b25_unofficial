fuse_b25 (ver0.4.7)
  /dev/dvb/adapterNへのI/Oを中継して MULTI2復号をするFUSEファイルシステム.
  プレーヤ等のアプリには 普通の(スクランブルしていない)DVBとして見えるため
  復号パッチ当てが不要で そのまま使用できる.
  １つのDVBデバイス(アダプタ)に対応して, 別の1つのディレクトリにマウントし,
  サブデバイスへのアクセスを実際のDVBデバイスとの間で中継する.
  dvrXからストリームデータを読み出した場合は, MULTI2(b25)の復号され,
  demuxYからPSIセクションを読み出した場合は, テキストがUTF16BEに変換される.

*0.4.7での変更点
・BCASカードの不要なリセットの除去
  (複数プロセスでの同時アクセス時の復号エラーに対応)
・demuxでのバッファリング, 読み出しのバグ修正

*0.4.6での変更点
・メモリ破壊の一部修正

*0.4.5での変更点
・相互排除・メモリ破壊の一部修正(不完全・まだ残ってると思われる)
・O_NONBLOCKでのreadができるように (MythTV対応)
・EITでのジャンル情報をDVB規格に合わせて無理やり変換
・EIT等でのテキスト変換をUTF-8からUTF16BEに変更し, テキストの溢れを軽減

*0.4.1での変更点
・NITの変換バグの修正(尻切れになっていた)
・DVB規格ETSI EN300 496 Annex.Aに従い, 変換したテキストをUTF-8とマーキング

*0.4での変更点*
・(再び)マウント方式の変更:
   DVBアダプタのディレクトリ単位(/dev/dvb/adapterN)毎マウントするように変更.
   demuxX や dvrY は中継デバイスを作成し, その他の(サブ)デバイスは,
   ターゲットとなるアダプタの対応する(サブ)デバイスへsymlinkを貼るようになった.

・目的・動機
   dvrNでなく, demuxNから読み出されるPSIデータもUTF-8に変換するように.
   (MythTVとかからもPSIが読める/使えるように)

・使い方
  1) マウントポイントを/dev/dvb/adapterN として作成する.
      mkdir /dev/dvb/adpterN;
  2) マウント
    fuse_b25 --target /dev/dvb/adapterX [-oallow_other] /dev/dvb/adapterN
      (/dev/dvb/adapterX: テキスト変換・B25復号したいターゲットのアダプタ)
      (X + 8 == N ならば --target オプションは省略可.)

  3) アプリからは/dev/dvb/adapterNへアクセス  mplayer dvb://N@NHK など...
  4) アンマウントしたい場合は, 
      fusermount -u /dev/dvb/adapterN;  rmdir /dev/dvb/adapterN

    オプション:
    --target <dir>  中継したいDVBアダプタへのパス
    -oallow_other	マウントしたユーザ以外にもアクセスを認める
    --conv		dvrNから読み出されるNITとSDT内のテキストをUTF-8に変換する
    --eit		dvrNから読み出されるEIT内のテキストをUTF-8に変換する
    --dmxraw demuxNから読み出されるデータを変換しない
    -f		起動後でバックグラウンドに移行しない (主にデバッグ用)
    -h ヘルプ表示


・新しいマウント方式での注意点:
  - 見掛け上のDVBデバイスの数が増える. 
        アプリによっては扱えるデバイス(アダプタ)の数に上限がある.
  -アプリから使用するときの DVBアダプタの番号が変わる.
        アプリによってはアダプタ番号の指定ができず0固定のものもあるかも.

        回避案:
         DVBドライバのモジュールのオプションadapter_nrを使用して,
         元のアダプタ番号を0以外に指定した上で /dev/dvb/adapter0を作成し
         fuse_b25をそこ(adapter0)へマウントする.

         例:
         /etc/modprobe.d/earth-pt1.confに
                "options earth-pt1 adapter_nr=1,2,3,4"を追加
         b25dir 0 (あるいは mkdir /dev/dvb/adapter0; chown ...; chmod ...)
         fuse_b25 --target /dev/dvb/adapter1 /dev/dvb/adapter0
         --> mplayer dvb://NHK, vlc dvb://??....

・その他注意点
  - EITについては, 開始時刻も自動的にUTCへ変換される. (欧州DVB規格と合わせるため)
  - オプション --dmxraw をつけて起動すると, demuxNでのPSIの変換は行われない.
  - その他の機能はver0.3と同じなので README.oldを参照
      後はFUSEのサイトのドキュメントとかも参照
      http://fuse.sourceforge.net/ 特にFAQやWiki

  -アプリはそのまま使用できるとは言っても
   復号後のストリームがそのまま再生できればの話.
   AACのチャネル構成変化とかで別途パッチ当てしないと動かない場合もある.

  -BCASカードがエラー起こしたり使用不能の場合は
   ワンセグ以外何も出力されないことになるのに注意
   特に録画しておいてカードエラーで失敗しても
   後から(カードが復旧してから)復号する, ということは*できない*ので注意.

  - FUSEでは通常 マウントしたユーザ以外は使用できない点に注意.
    -oallow_otherオプションを付ければ他のユーザも
   (パーミッションが得られれば)アクセスできるが,
    このオプションをルート以外が使用するには
    /etc/fuse.conf にuser_allow_otherという行を含める必要がある.

  - テキストの長さが変換に伴い２倍程に増加する. 
    EITの変換において,仕様上収まらなくなる場合があり
    その場合には強制的に尻切れ状態のEITテーブルが出力される

*ver.0.3からの変更点*
  - マウント方式を変更したことに伴い, b25dvr, rendvr0を廃止.
    また今までver0.1系と同等機能を提供していたfuse_b25.org も廃止
  - マウントポイントを作成するヘルパースクリプトb25dirの追加.
  - udevルールファイルの変更.

=====================================
ビルド方法
1)ソース準備
  同梱のtarballを展開するか, すでにver.0.4.6のソースがある場合は
  それに0009-*.patch の1パッチを当てる
     patch -p1 < ..../0009-bcas-reset-demux-buffering.patch
2)ビルド
 ./configure [options...]; make
 ./src/fuse_b25が作成される
 (pcsc-lite-devel やfuse-develが必要)
 Fedora用のspecファイルも含めてあるので srpmからビルド/インストールも可能

